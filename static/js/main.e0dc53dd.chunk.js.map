{"version":3,"sources":["components/Title.js","components/MyStepper.js","pages/Home.js","pages/Movies.js","pages/Friends.js","pages/Result.js","App.js","reportWebVitals.js","index.js"],"names":["StyledH1","styled","h1","Title","props","title","MyStepper","step","Stepper","activeStep","map","label","index","Step","StepLabel","StyledForm","form","StyledButton","Button","Home","onSetName","history","username","useHistory","useState","name","setName","nameError","setNameError","useEffect","savedName","localStorage","getItem","console","log","push","noValidate","autoComplete","TextField","error","id","variant","helperText","fullWidth","onInput","e","target","value","disableElevation","onClick","StyledRating","withStyles","iconFilled","color","iconHover","Rating","Content","div","MyTypography","h3","Refresh","StyledCardMedia","CardMedia","FilmCard","Card","MyContainer","Movies","apiUrl","onSetRatings","ratings","setRatings","movies","setMovies","getFilms","a","axios","get","data","films","savedRatings","Object","keys","JSON","parse","length","alert","refreshFilms","Tooltip","arrow","Grid","container","spacing","item","xs","image","poster_url","CardContent","film_title","film_id","defaultValue","precision","icon","fontSize","onChange","event","newValue","rating","newRating","onRating","CircularProgress","FriendButton","green","css","SubTitle","h2","FriendCard","Friends","onSetFriends","users","setUsers","friends","setFriends","loading","setLoading","onSubmitForm","result","getUsers","user_id","indexOf","friend","newFriends","splice","onFriend","disabled","Result","cachedResult","setCachedResult","savedFriends","savedResult","Typography","gutterBottom","component","StyledPaper","Paper","AppWrapper","App","theme","createMuiTheme","palette","type","primary","main","setUsername","setResult","setItem","stringify","post","ThemeProvider","CssBaseline","Container","maxWidth","elevation","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e0dc53dd.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport React from \"react\";\nconst StyledH1 = styled.h1`\n  text-align: center;\n`;\nexport const Title = (props) => {\n  return <StyledH1>{props.title}</StyledH1>;\n};\n","import { StepLabel, Stepper, Step } from \"@material-ui/core\";\n\nexport const MyStepper = ({step}) => {\n  return (\n    <Stepper activeStep={step}>\n      {[1,2,3].map((label, index) => {\n        return (\n          <Step key={label}>\n            <StepLabel></StepLabel>\n          </Step>\n        );\n      })}\n    </Stepper>\n  );\n};\n","import { Button, TextField } from \"@material-ui/core\";\nimport styled from \"styled-components\";\n\nimport React from \"react\";\nimport { Title } from \"../components/Title\";\nimport { MyStepper } from \"../components/MyStepper\";\nimport { useHistory } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nconst StyledForm = styled.form`\n  padding: 10px 40px;\n  max-width: 500px;\n  margin: auto;\n`;\n\nconst StyledButton = styled(Button)`\n  margin: 30px auto;\n  background: linear-gradient(45deg, #ff5d80 30%, #ff7d37 90%);\n  font-weight: bold;\n  color: #fff;\n  border-radius: 8px;\n  max-width: 500px;\n`;\n\nexport const Home = ({ onSetName, username }) => {\n  const history = useHistory();\n\n  const [name, setName] = useState();\n  const [nameError, setNameError] = useState(false);\n\n  const onInputName = (e) => {\n    setNameError(false);\n    setName(e.target.value);\n  };\n\n  const onSubmitForm = () => {\n    if (!name) {\n      setNameError(true);\n      return;\n    } else {\n      onSetName(name);\n      history.push(\"/movies\");\n    }\n  };\n\n  useEffect(() => {\n    const savedName = localStorage.getItem(\"username\");\n    console.log(!!savedName);\n    if (!!savedName && savedName!=\"null\") {\n      onSetName(savedName);\n      history.push(\"/movies\");\n    }\n  }, []);\n\n  return (\n    <>\n      <MyStepper step={0} />\n      <Title title=\"Регистрация\" />\n      <StyledForm noValidate autoComplete=\"off\">\n        <TextField\n          error={nameError}\n          id=\"outlined-basic\"\n          label=\"Имя\"\n          variant=\"outlined\"\n          helperText=\"Оставьте имя, чтобы другие могли найти ваши оценки\"\n          fullWidth\n          onInput={onInputName}\n        />\n        <StyledButton\n          variant=\"contained\"\n          disableElevation\n          fullWidth\n          onClick={onSubmitForm}\n        >\n          Дальше\n        </StyledButton>\n      </StyledForm>\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Title } from \"../components/Title\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Button,\n  Card,\n  CardContent,\n  CardMedia,\n  CircularProgress,\n  Grid,\n  Tooltip,\n  withStyles,\n} from \"@material-ui/core\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport { useState } from \"react\";\nimport { MyStepper } from \"../components/MyStepper\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst StyledRating = withStyles({\n  iconFilled: {\n    color: \"#cc333b\",\n  },\n  iconHover: {\n    color: \"#ff3d47\",\n  },\n})(Rating);\n\nconst StyledButton = styled(Button)`\n  margin: 30px auto;\n  background: linear-gradient(45deg, #ff5d80 30%, #ff7d37 90%);\n  font-weight: bold;\n  color: #fff;\n  border-radius: 8px;\n  max-width: 500px;\n`;\n\nconst Content = styled.div`\n  position: relative;\n  padding: 20px;\n  width: 100%;\n`;\nconst MyTypography = styled.h3`\n  font-size: 16px;\n  font-weight: 500;\n`;\nconst Refresh = styled(Button)`\n  position: absolute;\n  top: -60px;\n  right: 20px;\n`;\nconst StyledCardMedia = styled(CardMedia)`\n  padding-top: 100%;\n`;\nconst FilmCard = styled(Card)`\n  min-height: 350px;\n  transition: all 0.3s;\n  &:hover {\n    transform: scale(1.05);\n  }\n`;\n\nconst MyContainer = styled.div`\n  display: grid;\n  justify-content: center;\n`;\n\nexport const Movies = ({ apiUrl, onSetRatings, onSetName }) => {\n  const history = useHistory();\n\n  const [ratings, setRatings] = useState({});\n  const [movies, setMovies] = useState([]);\n\n  // one rating\n  const onRating = (id, rating) => {\n    const newRating = { ...ratings };\n    newRating[id] = rating;\n    setRatings(newRating);\n  };\n\n  // all ratings\n  const onSubmitForm = () => {\n    if (Object.keys(ratings).length === 0) {\n      alert(\"Оцените хотя бы один фильм\");\n      return;\n    } else {\n      onSetRatings(ratings);\n      history.push(\"/friends\");\n    }\n  };\n  const getFilms = async () => {\n    let { data } = await axios.get(apiUrl + \"/get-films?n=12\");\n    console.log(data);\n    setMovies(data.films);\n  };\n  useEffect(() => {\n    const savedName = localStorage.getItem(\"username\");\n    const savedRatings = localStorage.getItem(\"ratings\");\n    console.log(!!savedRatings);\n    if (!savedName || savedName === \"null\") {\n      history.push(\"/\");\n    } else if (\n      !!savedRatings &&\n      savedRatings != \"null\" &&\n      Object.keys(JSON.parse(savedRatings)).length > 0\n    ) {\n      history.push(\"/friends\");\n    } else {\n      onSetRatings(JSON.parse(savedRatings));\n      onSetName(savedName);\n      console.log(apiUrl);\n      try {\n        getFilms();\n      } catch (e) {\n        alert(e);\n      }\n    }\n  }, []);\n\n  const refreshFilms = async () => {\n    setMovies([]);\n    try {\n      let { data } = await axios.get(apiUrl + \"/get-films?n=10\");\n      console.log(data);\n      setMovies(data.films);\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  return (\n    <>\n      <MyStepper step={1} />\n      <Title title=\"Оцените фильмы\" />\n      <Content>\n        <Tooltip title=\"Загрузить еще фильмов\" arrow>\n          <Refresh>\n            <RefreshIcon onClick={refreshFilms}></RefreshIcon>\n          </Refresh>\n        </Tooltip>\n        <Grid container spacing={5}>\n          {movies.length ? (\n            movies.map((item) => (\n              <Grid item xs={3} key={item.film_id}>\n                <FilmCard>\n                  <StyledCardMedia image={item.poster_url} title=\"\" />\n                  <CardContent>\n                    <MyTypography>{item.film_title}</MyTypography>\n                    <StyledRating\n                      key={item.film_id}\n                      name={\"film\" + item.film_id}\n                      defaultValue={0}\n                      precision={0.5}\n                      icon={<FavoriteIcon fontSize=\"inherit\" />}\n                      onChange={(event, newValue) => {\n                        onRating(item.film_id, newValue);\n                      }}\n                    />\n                  </CardContent>\n                </FilmCard>\n              </Grid>\n            ))\n          ) : (\n            <Grid item xs={12}>\n              <MyContainer>\n                <CircularProgress />\n              </MyContainer>\n            </Grid>\n          )}\n        </Grid>\n      </Content>\n      <StyledButton\n        variant=\"contained\"\n        disableElevation\n        fullWidth\n        onClick={onSubmitForm}\n      >\n        Дальше\n      </StyledButton>\n    </>\n  );\n};\n\nexport default Movies;\n","import React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { Title } from \"../components/Title\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Card, CircularProgress, Grid } from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport { MyStepper } from \"../components/MyStepper\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { CollectionsTwoTone } from \"@material-ui/icons\";\n\nconst StyledButton = styled(Button)`\n  margin: 30px auto;\n  background: linear-gradient(45deg, #ff5d80 30%, #ff7d37 90%);\n  font-weight: bold;\n  color: #fff;\n  border-radius: 8px;\n  max-width: 500px;\n`;\nconst FriendButton = styled(Button)`\n  font-weight: bold;\n  color: #fff;\n  ${(props) =>\n    props.green === \"green\" &&\n    css`\n      background: #1fc409 !important;\n      color: #000;\n    `}\n`;\n\nconst Content = styled.div`\n  position: relative;\n  padding: 20px;\n`;\nconst MyContainer = styled.div`\n  display: grid;\n  justify-content: center;\n  width: 100%;\n`;\nconst SubTitle = styled.h2`\n  text-align: center;\n  font-size: 20px;\n  font-weight: 300;\n  margin-top: 0;\n`;\n\nconst FriendCard = styled(Card)`\n  transition: all 0.3s;\n  &:hover {\n    transform: scale(1.05);\n  }\n`;\n\nexport const Friends = ({ onSetRatings, onSetName, onSetFriends, apiUrl }) => {\n  const history = useHistory();\n\n  const [users, setUsers] = useState([]);\n  const [friends, setFriends] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // one rating\n  const onFriend = (friend) => {\n    if (friends.indexOf(friend) >= 0) {\n      let newFriends = friends;\n      console.log(newFriends);\n      if (newFriends.length === 1) {\n        newFriends = [];\n      } else {\n        newFriends.splice(friends.indexOf(friend), 1);\n      }\n      console.log(newFriends);\n\n      setFriends(newFriends);\n      console.log(friends);\n    } else {\n      setFriends([...friends, friend]);\n    }\n  };\n\n  // all ratings\n  const onSubmitForm = async () => {\n    setLoading(true);\n    let result = await onSetFriends(friends);\n    console.log(result);\n    setLoading(false);\n    if (result) {\n      history.push(\"/result\");\n    }\n  };\n  const getUsers = async () => {\n    const { data } = await axios.get(apiUrl + \"/get_users\");\n    setUsers(data.friends);\n  };\n  useEffect(() => {\n    const savedName = localStorage.getItem(\"username\");\n    const savedRatings = localStorage.getItem(\"ratings\");\n    const savedFriends = localStorage.getItem(\"friends\");\n\n    if (!savedName || savedName === \"null\") {\n      history.push(\"/\");\n    }\n    if (\n      !savedRatings ||\n      savedRatings === \"null\" ||\n      (!!savedRatings && !savedRatings.length)\n    ) {\n      history.push(\"/movies\");\n    } else {\n      //if (!savedFriends || savedFriends === \"null\" || !savedFriends.length) {\n      onSetRatings(JSON.parse(savedRatings));\n      onSetName(savedName);\n      getUsers();\n      // onSetFriends(JSON.parse(savedFriends));\n      //history.push(\"/result\");\n    }\n  }, []);\n\n  return (\n    <>\n      <MyStepper step={2} />\n      <Title title=\"Выберите ваших друзей\" />\n      <SubTitle>\n        Мы попробуем подобрать фильмы подходящие для совместного просмотра!\n      </SubTitle>\n      {loading ? (\n        <MyContainer>\n          <CircularProgress />\n        </MyContainer>\n      ) : (\n        <Content>\n          <Grid container spacing={5}>\n            {users && users.length ? (\n              users.map((item) => (\n                <Grid item xs={3} key={item.user_id}>\n                  <FriendCard>\n                    <FriendButton\n                      name={item.user_id}\n                      fullWidth\n                      green={friends.indexOf(item.user_id) >= 0 ? \"green\" : \"\"}\n                      onClick={() => {\n                        onFriend(item.user_id);\n                      }}\n                    >\n                      {item.username}\n                    </FriendButton>\n                  </FriendCard>\n                </Grid>\n              ))\n            ) : (\n              <MyContainer>\n                <Content></Content>\n                <Grid item xs={12}>\n                  <CircularProgress />\n                </Grid>\n              </MyContainer>\n            )}\n          </Grid>\n        </Content>\n      )}\n      {users && users.length ? (\n        <StyledButton\n          disabled={loading}\n          variant=\"contained\"\n          disableElevation\n          fullWidth\n          onClick={onSubmitForm}\n        >\n          Получить рекомендацию\n        </StyledButton>\n      ) : (\n        <Content></Content>\n      )}\n    </>\n  );\n};\n\nexport default Friends;\n","import React from \"react\";\nimport { Title } from \"../components/Title\";\n\nimport styled from \"styled-components\";\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  CircularProgress,\n  Grid,\n  Typography,\n} from \"@material-ui/core\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useState } from \"react\";\n\nconst Content = styled.div`\n  position: relative;\n  padding: 20px;\n`;\n\nconst StyledCardMedia = styled(CardMedia)`\n  padding-top: 110%;\n`;\nconst FilmCard = styled(Card)`\n  transition: all 0.3s;\n  &:hover {\n    transform: scale(1.05);\n  }\n`;\nconst MyContainer = styled.div`\n  display: grid;\n  justify-content: center;\n`;\n\nexport const Result = ({ onSetRatings, onSetName, onSetFriends, result }) => {\n  const history = useHistory();\n\n  const [cachedResult, setCachedResult] = useState([]);\n\n  useEffect(() => {\n    const savedName = localStorage.getItem(\"username\");\n    const savedRatings = localStorage.getItem(\"ratings\");\n    const savedFriends = localStorage.getItem(\"friends\");\n    const savedResult = localStorage.getItem(\"result\");\n    if (!savedName || savedName === \"null\") {\n      history.push(\"/\");\n    }\n    if (\n      !savedRatings ||\n      savedRatings === \"null\" ||\n      (!!savedRatings && !savedRatings.length)\n    ) {\n      history.push(\"/movies\");\n    }\n    if (\n      !savedRatings ||\n      savedRatings === \"null\" ||\n      (!!savedRatings && !savedRatings.length)\n    ) {\n      history.push(\"/friends\");\n    }\n    if (!!savedResult && savedRatings != \"null\" && !!savedResult.length) {\n      setCachedResult(JSON.parse(savedResult));\n    } else {\n      onSetRatings(JSON.parse(savedRatings));\n      onSetName(savedName);\n      onSetFriends(JSON.parse(savedFriends));\n    }\n  }, []);\n  return (\n    <>\n      <Title title=\"Результат\" />\n      <Content>\n        <Grid container spacing={5}>\n          {result && result.length ? (\n            result.map((item) => (\n              <Grid item xs={3} key={item.film_id}>\n                <FilmCard>\n                  <StyledCardMedia image={item.poster_url} title=\"\" />\n                  <CardContent>\n                    <Typography gutterBottom variant=\"h6\" component=\"h5\">\n                      {item.film_title}\n                    </Typography>\n                  </CardContent>\n                </FilmCard>\n              </Grid>\n            ))\n          ) : cachedResult && cachedResult.length ? (\n            cachedResult.map((item) => (\n              <Grid item xs={3} key={item.film_id}>\n                <FilmCard>\n                  <StyledCardMedia image={item.poster_url} title=\"\" />\n                  <CardContent>\n                    <Typography gutterBottom variant=\"h6\" component=\"h5\">\n                      {item.film_title}\n                    </Typography>\n                  </CardContent>\n                </FilmCard>\n              </Grid>\n            ))\n          ) : (\n            <Grid item xs={12}>\n              <MyContainer>\n                <CircularProgress />\n              </MyContainer>\n            </Grid>\n          )}\n        </Grid>\n      </Content>\n    </>\n  );\n};\n\nexport default Result;\n","import { BrowserRouter as Router, Switch, Route, HashRouter } from \"react-router-dom\";\nimport { Home } from \"./pages/Home\";\nimport { Movies } from \"./pages/Movies\";\nimport { Friends } from \"./pages/Friends\";\nimport { Result } from \"./pages/Result\";\nimport { useState } from \"react\";\nimport { createMuiTheme, CssBaseline, ThemeProvider } from \"@material-ui/core\";\nimport { Container, Paper } from \"@material-ui/core\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\nconst apiUrl = \"https://filmrecomendation.herokuapp.com\";\n\nconst StyledPaper = styled(Paper)`\n  padding: 20px 10px;\n  display: flex;\n  flex-direction: column;\n  border-radius: 10px;\n`;\nconst AppWrapper = styled.div`\n  padding: 40px 0;\n`;\n\nfunction App() {\n  const theme = createMuiTheme({\n    palette: {\n      type: \"dark\",\n      primary: {\n        main: \"#ff8800\",\n      },\n    },\n  });\n  const [username, setUsername] = useState(\"\");\n  const [ratings, setRatings] = useState({});\n  const [friends, setFriends] = useState([]);\n  const [result, setResult] = useState([]);\n\n  function onSetName(name) {\n    setUsername(name);\n    localStorage.setItem(\"username\", name);\n  }\n\n  function onSetRatings(ratings) {\n    setRatings(ratings);\n    localStorage.setItem(\"ratings\", JSON.stringify(ratings));\n  }\n\n  async function onSetFriends(newFriends) {\n    setFriends(newFriends);\n    localStorage.setItem(\"friends\", JSON.stringify(newFriends));\n\n    try {\n      let { data } = await axios.post(apiUrl + \"/davaaaaay\", {\n        username,\n        ratings,\n        friends: newFriends,\n      });\n      console.log(data.films);\n      setResult(data.films);\n      localStorage.setItem(\"result\", JSON.stringify(data.films));\n\n      return data;\n    } catch (e) {\n      alert(e);\n      setResult(false);\n      return 0;\n    }\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppWrapper>\n        <HashRouter>\n          <Container maxWidth=\"md\">\n            <StyledPaper elevation={3}>\n              <Switch>\n                <Route path=\"/\" exact>\n                  <Home onSetName={onSetName} username={\"1\"} />\n                </Route>\n                <Route path=\"/friends\" exact>\n                  <Friends\n                    onSetRatings={onSetRatings}\n                    onSetName={onSetName}\n                    onSetFriends={onSetFriends}\n                    apiUrl={apiUrl}\n                  />\n                </Route>\n                <Route path=\"/movies\" exact>\n                  <Movies\n                    onSetRatings={onSetRatings}\n                    onSetName={onSetName}\n                    apiUrl={apiUrl}\n                  />\n                </Route>\n                <Route path=\"/result\" exact>\n                  <Result\n                    result={result}\n                    onSetRatings={onSetRatings}\n                    onSetName={onSetName}\n                    onSetFriends={onSetFriends}\n                    apiUrl={apiUrl}\n                  />\n                </Route>\n              </Switch>\n            </StyledPaper>\n          </Container>\n        </HashRouter>\n      </AppWrapper>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}