{"version":3,"sources":["components/Title.js","components/MyStepper.js","pages/Home.js","pages/Movies.js","pages/Friends.js","pages/Result.js","App.js","reportWebVitals.js","index.js"],"names":["StyledH1","styled","h1","Title","props","title","MyStepper","step","Stepper","activeStep","map","label","index","Step","StepLabel","StyledForm","form","StyledButton","Button","Home","onSetName","history","username","useHistory","useState","name","setName","nameError","setNameError","useEffect","savedName","localStorage","getItem","console","log","push","noValidate","autoComplete","TextField","error","id","variant","helperText","fullWidth","onInput","e","target","value","disableElevation","onClick","StyledRating","withStyles","iconFilled","color","iconHover","Rating","Content","div","MyTypography","h3","Refresh","StyledCardMedia","CardMedia","FilmCard","Card","MyContainer","Movies","apiUrl","onSetRatings","ratings","setRatings","movies","setMovies","getFilms","a","axios","get","data","films","savedRatings","Object","keys","JSON","parse","length","alert","refreshFilms","Tooltip","arrow","Grid","container","spacing","item","xs","image","poster_url","process","CardContent","film_title","film_id","defaultValue","precision","icon","fontSize","onChange","event","newValue","rating","newRating","onRating","CircularProgress","FriendButton","green","css","SubTitle","h2","FriendCard","Friends","onSetFriends","users","setUsers","friends","setFriends","loading","setLoading","onSubmitForm","result","getUsers","friend","updatedUsers","indexOf","newFriends","splice","onFriend","user_id","disabled","Result","onResetLocalStorage","cachedResult","setCachedResult","savedFriends","savedResult","Typography","gutterBottom","component","StyledPaper","Paper","AppWrapper","App","theme","createMuiTheme","palette","type","primary","main","setUsername","setResult","setItem","stringify","post","ThemeProvider","CssBaseline","Container","maxWidth","elevation","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a5498606.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport React from \"react\";\nconst StyledH1 = styled.h1`\n  text-align: center;\n`;\nexport const Title = (props) => {\n  return <StyledH1>{props.title}</StyledH1>;\n};\n","import { StepLabel, Stepper, Step } from \"@material-ui/core\";\n\nexport const MyStepper = ({step}) => {\n  return (\n    <Stepper activeStep={step}>\n      {[1,2,3].map((label, index) => {\n        return (\n          <Step key={label}>\n            <StepLabel></StepLabel>\n          </Step>\n        );\n      })}\n    </Stepper>\n  );\n};\n","import { Button, TextField } from \"@material-ui/core\";\nimport styled from \"styled-components\";\n\nimport React from \"react\";\nimport { Title } from \"../components/Title\";\nimport { MyStepper } from \"../components/MyStepper\";\nimport { useHistory } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nconst StyledForm = styled.form`\n  padding: 10px 40px;\n  max-width: 500px;\n  margin: auto;\n`;\n\nconst StyledButton = styled(Button)`\n  margin: 30px auto;\n  background: linear-gradient(45deg, #ff5d80 30%, #ff7d37 90%);\n  font-weight: bold;\n  color: #fff;\n  border-radius: 8px;\n  max-width: 500px;\n`;\n\nexport const Home = ({ onSetName, username }) => {\n  const history = useHistory();\n\n  const [name, setName] = useState();\n  const [nameError, setNameError] = useState(false);\n\n  const onInputName = (e) => {\n    setNameError(false);\n    setName(e.target.value);\n  };\n\n  const onSubmitForm = () => {\n    if (!name || name === \"null\") {\n      setNameError(true);\n      return;\n    } else {\n      onSetName(name);\n      history.push(\"/movies\");\n    }\n  };\n\n  useEffect(() => {\n    const savedName = localStorage.getItem(\"username\");\n    console.log(!!savedName);\n    if (!!savedName && savedName != \"null\") {\n      onSetName(savedName);\n      history.push(\"/movies\");\n    }\n  }, []);\n\n  return (\n    <>\n      <MyStepper step={0} />\n      <Title title=\"Регистрация\" />\n      <StyledForm noValidate autoComplete=\"off\">\n        <TextField\n          error={nameError}\n          id=\"outlined-basic\"\n          label=\"Имя\"\n          variant=\"outlined\"\n          helperText=\"Оставьте имя, чтобы другие могли найти ваши оценки\"\n          fullWidth\n          onInput={onInputName}\n        />\n        <StyledButton\n          variant=\"contained\"\n          disableElevation\n          fullWidth\n          onClick={onSubmitForm}\n        >\n          Дальше\n        </StyledButton>\n      </StyledForm>\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Title } from \"../components/Title\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Button,\n  Card,\n  CardContent,\n  CardMedia,\n  CircularProgress,\n  Grid,\n  Tooltip,\n  withStyles,\n} from \"@material-ui/core\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport { useState } from \"react\";\nimport { MyStepper } from \"../components/MyStepper\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst StyledRating = withStyles({\n  iconFilled: {\n    color: \"#cc333b\",\n  },\n  iconHover: {\n    color: \"#ff3d47\",\n  },\n})(Rating);\n\nconst StyledButton = styled(Button)`\n  margin: 30px auto;\n  background: linear-gradient(45deg, #ff5d80 30%, #ff7d37 90%);\n  font-weight: bold;\n  color: #fff;\n  border-radius: 8px;\n  max-width: 500px;\n`;\n\nconst Content = styled.div`\n  position: relative;\n  padding: 20px;\n  width: 100%;\n`;\nconst MyTypography = styled.h3`\n  font-size: 16px;\n  font-weight: 500;\n`;\nconst Refresh = styled(Button)`\n  position: absolute;\n  top: -60px;\n  right: 20px;\n`;\nconst StyledCardMedia = styled(CardMedia)`\n  padding-top: 100%;\n`;\nconst FilmCard = styled(Card)`\n  min-height: 350px;\n  transition: all 0.3s;\n  &:hover {\n    transform: scale(1.05);\n  }\n`;\n\nconst MyContainer = styled.div`\n  display: grid;\n  justify-content: center;\n`;\n\nexport const Movies = ({ apiUrl, onSetRatings, onSetName }) => {\n  const history = useHistory();\n\n  const [ratings, setRatings] = useState({});\n  const [movies, setMovies] = useState([]);\n\n  // one rating\n  const onRating = (id, rating) => {\n    const newRating = { ...ratings };\n    newRating[id] = rating;\n    setRatings(newRating);\n  };\n\n  // all ratings\n  const onSubmitForm = () => {\n    if (Object.keys(ratings).length === 0) {\n      alert(\"Оцените хотя бы один фильм\");\n      return;\n    } else {\n      onSetRatings(ratings);\n      history.push(\"/friends\");\n    }\n  };\n  const getFilms = async () => {\n    let { data } = await axios.get(apiUrl + \"/get-films?n=12\");\n    console.log(data);\n    setMovies(data.films);\n  };\n  useEffect(() => {\n    const savedName = localStorage.getItem(\"username\");\n    const savedRatings = localStorage.getItem(\"ratings\");\n    console.log(!!savedRatings);\n    if (!savedName || savedName === \"null\") {\n      history.push(\"/\");\n    } else if (\n      !!savedRatings &&\n      savedRatings != \"null\" &&\n      Object.keys(JSON.parse(savedRatings)).length > 0\n    ) {\n      history.push(\"/friends\");\n    } else {\n      onSetRatings(JSON.parse(savedRatings));\n      onSetName(savedName);\n      console.log(apiUrl);\n      try {\n        getFilms();\n      } catch (e) {\n        alert(e);\n      }\n    }\n  }, []);\n\n  const refreshFilms = async () => {\n    setMovies([]);\n    try {\n      let { data } = await axios.get(apiUrl + \"/get-films?n=10\");\n      console.log(data);\n      setMovies(data.films);\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  return (\n    <>\n      <MyStepper step={1} />\n      <Title title=\"Оцените фильмы\" />\n      <Content>\n        <Tooltip title=\"Загрузить еще фильмов (текущие оценки сохранятся)\" arrow>\n          <Refresh>\n            <RefreshIcon onClick={refreshFilms}></RefreshIcon>\n          </Refresh>\n        </Tooltip>\n        <Grid container spacing={5}>\n          {movies.length ? (\n            movies.map((item) => (\n              <Grid item xs={3} key={item.film_id}>\n                <FilmCard>\n                  <StyledCardMedia\n                    image={\n                      item.poster_url === \"broken_poster\"\n                        ? `${process.env.PUBLIC_URL}/no_photo.png`\n                        : item.poster_url\n                    }\n                    title=\"\"\n                  />\n                  <CardContent>\n                    <MyTypography>{item.film_title}</MyTypography>\n                    <StyledRating\n                      key={item.film_id}\n                      name={\"film\" + item.film_id}\n                      defaultValue={0}\n                      precision={0.5}\n                      icon={<FavoriteIcon fontSize=\"inherit\" />}\n                      onChange={(event, newValue) => {\n                        onRating(item.film_id, newValue);\n                      }}\n                    />\n                  </CardContent>\n                </FilmCard>\n              </Grid>\n            ))\n          ) : (\n            <Grid item xs={12}>\n              <MyContainer>\n                <CircularProgress />\n              </MyContainer>\n            </Grid>\n          )}\n        </Grid>\n      </Content>\n      <StyledButton\n        variant=\"contained\"\n        disableElevation\n        fullWidth\n        onClick={onSubmitForm}\n      >\n        Дальше\n      </StyledButton>\n    </>\n  );\n};\n\nexport default Movies;\n","import React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { Title } from \"../components/Title\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Card, CircularProgress, Grid } from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport { MyStepper } from \"../components/MyStepper\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { CollectionsTwoTone } from \"@material-ui/icons\";\n\nconst StyledButton = styled(Button)`\n  margin: 30px auto;\n  background: linear-gradient(45deg, #ff5d80 30%, #ff7d37 90%);\n  font-weight: bold;\n  color: #fff;\n  border-radius: 8px;\n  max-width: 500px;\n`;\nconst FriendButton = styled(Button)`\n  font-weight: bold;\n  color: #fff;\n  ${(props) =>\n    props.green === \"green\" &&\n    css`\n      background: #1fc409 !important;\n      color: #000;\n    `}\n`;\n\nconst Content = styled.div`\n  position: relative;\n  padding: 20px;\n`;\nconst MyContainer = styled.div`\n  display: grid;\n  justify-content: center;\n  width: 100%;\n`;\nconst SubTitle = styled.h2`\n  text-align: center;\n  font-size: 20px;\n  font-weight: 300;\n  margin-top: 0;\n`;\n\nconst FriendCard = styled(Card)`\n  transition: all 0.3s;\n  &:hover {\n    transform: scale(1.05);\n  }\n`;\n\nexport const Friends = ({ onSetRatings, onSetName, onSetFriends, apiUrl }) => {\n  const history = useHistory();\n\n  const [users, setUsers] = useState([]);\n  const [friends, setFriends] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // one rating\n  const onFriend = (friend, index) => {\n    let updatedUsers = users;\n\n\n    if (users[index].green === true) {\n      console.log(updatedUsers[index].green);\n      updatedUsers[index].green = false;\n      console.log(updatedUsers[index].green);\n      setUsers([...updatedUsers]);\n    } else {\n      updatedUsers[index].green = true;\n      setUsers([...updatedUsers]);\n    }\n\n    if (friends.indexOf(friend) >= 0) {\n      let newFriends = friends;\n      if (newFriends.length === 1) {\n        newFriends = [];\n      } else {\n        newFriends.splice(friends.indexOf(friend), 1);\n      }\n      setFriends(newFriends);\n      console.log(newFriends);\n    } else {\n      setFriends([...friends, friend]);\n    }\n  };\n\n  // all ratings\n  const onSubmitForm = async () => {\n    setLoading(true);\n    let result = await onSetFriends(friends);\n    console.log(result);\n    setLoading(false);\n    if (result) {\n      history.push(\"/result\");\n    }\n  };\n  const getUsers = async () => {\n    const { data } = await axios.get(apiUrl + \"/get_users\");\n    setUsers(data.friends);\n  };\n  useEffect(() => {\n    const savedName = localStorage.getItem(\"username\");\n    const savedRatings = localStorage.getItem(\"ratings\");\n    const savedFriends = localStorage.getItem(\"friends\");\n\n    if (!savedName || savedName === \"null\") {\n      history.push(\"/\");\n    }\n    if (\n      !savedRatings ||\n      savedRatings === \"null\" ||\n      (!!savedRatings && !savedRatings.length)\n    ) {\n      history.push(\"/movies\");\n    } else {\n      //if (!savedFriends || savedFriends === \"null\" || !savedFriends.length) {\n      onSetRatings(JSON.parse(savedRatings));\n      onSetName(savedName);\n      getUsers();\n      // onSetFriends(JSON.parse(savedFriends));\n      //history.push(\"/result\");\n    }\n  }, []);\n\n  return (\n    <>\n      <MyStepper step={2} />\n      <Title title=\"Выберите ваших друзей\" />\n      <SubTitle>\n        Мы попробуем подобрать фильмы подходящие для совместного просмотра!\n      </SubTitle>\n      {loading ? (\n        <MyContainer>\n          <CircularProgress />\n        </MyContainer>\n      ) : (\n        <Content>\n          <Grid container spacing={5}>\n            {users && users.length ? (\n              users.map((item, index) => (\n                <Grid item xs={3} key={index}>\n                  <FriendCard>\n                    <FriendButton\n                      fullWidth\n                      green={item.green ? \"green\" : \"\"}\n                      onClick={() => {\n                        onFriend(item.user_id, index);\n                      }}\n                    >\n                      {item.username}\n                    </FriendButton>\n                  </FriendCard>\n                </Grid>\n              ))\n            ) : (\n              <MyContainer>\n                <Content></Content>\n                <Grid item xs={12}>\n                  <CircularProgress />\n                </Grid>\n              </MyContainer>\n            )}\n          </Grid>\n        </Content>\n      )}\n      <StyledButton\n        disabled={loading}\n        variant=\"contained\"\n        disableElevation\n        fullWidth\n        onClick={onSubmitForm}\n      >\n        Получить рекомендацию\n      </StyledButton>\n    </>\n  );\n};\n\nexport default Friends;\n","import React from \"react\";\nimport { Title } from \"../components/Title\";\n\nimport styled from \"styled-components\";\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  CircularProgress,\n  Grid,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useState } from \"react\";\n\nconst StyledButton = styled(Button)`\n  margin: 30px auto;\n  background: linear-gradient(45deg, #ff5d80 30%, #ff7d37 90%);\n  font-weight: bold;\n  color: #fff;\n  border-radius: 8px;\n  max-width: 500px;\n`;\n\nconst Content = styled.div`\n  position: relative;\n  padding: 20px;\n`;\n\nconst StyledCardMedia = styled(CardMedia)`\n  padding-top: 110%;\n`;\nconst FilmCard = styled(Card)`\n  transition: all 0.3s;\n  &:hover {\n    transform: scale(1.05);\n  }\n`;\nconst MyContainer = styled.div`\n  display: grid;\n  justify-content: center;\n`;\n\nexport const Result = ({\n  onSetRatings,\n  onSetName,\n  onSetFriends,\n  result,\n  onResetLocalStorage,\n}) => {\n  const history = useHistory();\n  const onReset = () => {\n    onResetLocalStorage();\n    history.push(\"/\");\n  };\n\n  const [cachedResult, setCachedResult] = useState([]);\n\n  useEffect(() => {\n    const savedName = localStorage.getItem(\"username\");\n    const savedRatings = localStorage.getItem(\"ratings\");\n    const savedFriends = localStorage.getItem(\"friends\");\n    const savedResult = localStorage.getItem(\"result\");\n    if (!savedName || savedName === \"null\") {\n      history.push(\"/\");\n    }\n    if (\n      !savedRatings ||\n      savedRatings === \"null\" ||\n      (!!savedRatings && !savedRatings.length)\n    ) {\n      history.push(\"/movies\");\n    }\n    if (\n      !savedRatings ||\n      savedRatings === \"null\" ||\n      (!!savedRatings && !savedRatings.length)\n    ) {\n      history.push(\"/friends\");\n    }\n    if (!!savedResult && savedRatings != \"null\" && !!savedResult.length) {\n      setCachedResult(JSON.parse(savedResult));\n    } else {\n      onSetRatings(JSON.parse(savedRatings));\n      onSetName(savedName);\n      onSetFriends(JSON.parse(savedFriends));\n    }\n  }, []);\n  return (\n    <>\n      <Title title=\"Результат\" />\n      <Content>\n        <Grid container spacing={5}>\n          {result && result.length ? (\n            result.map((item) => (\n              <Grid item xs={3} key={item.film_id}>\n                <FilmCard>\n                  <StyledCardMedia\n                    image={\n                      item.poster_url === \"broken_poster\"\n                        ? `${process.env.PUBLIC_URL}/no_photo.png`\n                        : item.poster_url\n                    }\n                    title=\"\"\n                  />\n                  <CardContent>\n                    <Typography gutterBottom variant=\"h6\" component=\"h5\">\n                      {item.film_title}\n                    </Typography>\n                  </CardContent>\n                </FilmCard>\n              </Grid>\n            ))\n          ) : cachedResult && cachedResult.length ? (\n            cachedResult.map((item) => (\n              <Grid item xs={3} key={item.film_id}>\n                <FilmCard>\n                  <StyledCardMedia image={item.poster_url} title=\"\" />\n                  <CardContent>\n                    <Typography gutterBottom variant=\"h6\" component=\"h5\">\n                      {item.film_title}\n                    </Typography>\n                  </CardContent>\n                </FilmCard>\n              </Grid>\n            ))\n          ) : (\n            <Grid item xs={12}>\n              <MyContainer>\n                <Typography gutterBottom variant=\"h6\" component=\"h5\">\n                  Ничего не найдено! <br></br>\n                  Попробуйте с большим числом фильмов\n                </Typography>\n              </MyContainer>\n            </Grid>\n          )}\n        </Grid>\n      </Content>\n      <StyledButton\n        variant=\"contained\"\n        disableElevation\n        fullWidth\n        onClick={onReset}\n      >\n        Начать сначала\n      </StyledButton>\n    </>\n  );\n};\n\nexport default Result;\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  HashRouter,\n} from \"react-router-dom\";\nimport { Home } from \"./pages/Home\";\nimport { Movies } from \"./pages/Movies\";\nimport { Friends } from \"./pages/Friends\";\nimport { Result } from \"./pages/Result\";\nimport { useState } from \"react\";\nimport { createMuiTheme, CssBaseline, ThemeProvider } from \"@material-ui/core\";\nimport { Container, Paper } from \"@material-ui/core\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\nconst apiUrl = \"https://filmrecomendation.herokuapp.com\";\n\nconst StyledPaper = styled(Paper)`\n  padding: 20px 10px;\n  display: flex;\n  flex-direction: column;\n  border-radius: 10px;\n`;\nconst AppWrapper = styled.div`\n  padding: 40px 0;\n`;\n\nfunction App() {\n  const theme = createMuiTheme({\n    palette: {\n      type: \"dark\",\n      primary: {\n        main: \"#ff8800\",\n      },\n    },\n  });\n  const [username, setUsername] = useState(\"\");\n  const [ratings, setRatings] = useState({});\n  const [friends, setFriends] = useState([]);\n  const [result, setResult] = useState([]);\n\n  function onSetName(name) {\n    setUsername(name);\n    localStorage.setItem(\"username\", name);\n  }\n\n  function onSetRatings(ratings) {\n    setRatings(ratings);\n    localStorage.setItem(\"ratings\", JSON.stringify(ratings));\n  }\n\n  function onResetLocalStorage() {\n    localStorage.setItem(\"username\", \"null\");\n    localStorage.setItem(\"ratings\", JSON.stringify({}));\n    localStorage.setItem(\"friends\", JSON.stringify([]));\n    localStorage.setItem(\"result\", JSON.stringify([]));\n    setUsername(\"\");\n    setRatings({});\n    setFriends([]);\n    setResult([]);\n  }\n\n  async function onSetFriends(newFriends) {\n    setFriends(newFriends);\n    localStorage.setItem(\"friends\", JSON.stringify(newFriends));\n\n    try {\n      let { data } = await axios.post(apiUrl + \"/davaaaaay\", {\n        username,\n        ratings,\n        friends: newFriends,\n      });\n      console.log(data.films);\n      setResult(data.films);\n      localStorage.setItem(\"result\", JSON.stringify(data.films));\n\n      return data;\n    } catch (e) {\n      alert(e);\n      setResult(false);\n      return 0;\n    }\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppWrapper>\n        <HashRouter>\n          <Container maxWidth=\"md\">\n            <StyledPaper elevation={3}>\n              <Switch>\n                <Route path=\"/\" exact>\n                  <Home onSetName={onSetName} username={\"1\"} />\n                </Route>\n                <Route path=\"/friends\" exact>\n                  <Friends\n                    onSetRatings={onSetRatings}\n                    onSetName={onSetName}\n                    onSetFriends={onSetFriends}\n                    apiUrl={apiUrl}\n                  />\n                </Route>\n                <Route path=\"/movies\" exact>\n                  <Movies\n                    onSetRatings={onSetRatings}\n                    onSetName={onSetName}\n                    apiUrl={apiUrl}\n                  />\n                </Route>\n                <Route path=\"/result\" exact>\n                  <Result\n                    result={result}\n                    onSetRatings={onSetRatings}\n                    onSetName={onSetName}\n                    onSetFriends={onSetFriends}\n                    apiUrl={apiUrl}\n                    onResetLocalStorage={onResetLocalStorage}\n                  />\n                </Route>\n              </Switch>\n            </StyledPaper>\n          </Container>\n        </HashRouter>\n      </AppWrapper>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}